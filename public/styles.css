:root { color-scheme: light dark; }
* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; font-family: system-ui, Arial, sans-serif; }
#app { display: flex; flex-direction: column; height: 100%; }
header { display: flex; align-items: center; gap: 8px; padding: 8px 12px; border-bottom: 1px solid rgba(0,0,0,0.1); }
header h1 { font-size: 16px; margin: 0; }
header .version { 
  font-size: 11px; 
  font-weight: 500; 
  color: rgba(0,0,0,0.6); 
  background: rgba(0,0,0,0.06); 
  padding: 2px 6px; 
  border-radius: 4px; 
  letter-spacing: 0.5px; 
  text-transform: uppercase; 
}
header .spacer { flex: 1; }
header button { border: 1px solid rgba(0,0,0,0.2); background: transparent; padding: 4px 8px; border-radius: 6px; cursor: pointer; }
main#chat { flex: 1; padding: 12px; overflow: auto; display: flex; flex-direction: column; gap: 12px; }
.msg { padding: 8px 12px; border-radius: 10px; max-width: 80%; }
.user { align-self: flex-end; background: #3b82f6; color: #fff; }
.bot { align-self: flex-start; background: #e5e7eb; color: #111; }
.msg h1,.msg h2,.msg h3,.msg h4,.msg h5,.msg h6 { margin: 0.2em 0; }
.msg p { margin: 0.2em 0; }
.msg ul,.msg ol { margin: 0.2em 0; padding-left: 1.2em; }
.msg li { margin: 0.1em 0; }
.msg pre { background: rgba(0,0,0,0.08); padding: 8px; border-radius: 6px; overflow: auto; margin: 0.2em 0; }
.msg code { background: rgba(0,0,0,0.08); padding: 0 4px; border-radius: 4px; }
.msg blockquote { border-left: 4px solid rgba(0,0,0,0.2); margin: 0.3em 0; padding-left: 1em; color: rgba(0,0,0,0.7); }
.msg table { border-collapse: collapse; width: 100%; margin: 0.3em 0; }
.msg th,.msg td { border: 1px solid rgba(0,0,0,0.2); padding: 6px 8px; text-align: left; }
.msg th { background: rgba(0,0,0,0.05); font-weight: 600; }
.msg > *:last-child { margin-bottom: 0; }
.msg > *:first-child { margin-top: 0; }
@media (prefers-color-scheme: dark) {
  .bot { background: #222; color: #ddd; }
  .msg pre { background: rgba(255,255,255,0.08); }
  .msg code { background: rgba(255,255,255,0.08); }
  .msg blockquote { border-left-color: rgba(255,255,255,0.3); color: rgba(255,255,255,0.7); }
  .msg th { background: rgba(255,255,255,0.08); }
  .msg th,.msg td { border-color: rgba(255,255,255,0.2); }
  header .version { 
    color: rgba(255,255,255,0.6); 
    background: rgba(255,255,255,0.08); 
  }
}
footer { border-top: 1px solid rgba(0,0,0,0.1); padding: 8px; }
form { display: flex; gap: 8px; align-items: flex-start; }
#directive-chip { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 999px; border: 1px solid rgba(0,0,0,0.15); background: rgba(0,0,0,0.04); color: #111; font-size: 12px; line-height: 1; height: 32px; margin-top: 6px; }
#directive-chip.hidden { display: none; }
#directive-chip .x { cursor: pointer; opacity: 0.7; }
textarea#input { flex: 1; padding: 10px 12px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.2); resize: none; min-height: 40px; max-height: 200px; }
button[type=submit] { padding: 10px 14px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.2); background: #16a34a; color: #fff; cursor: pointer; }


