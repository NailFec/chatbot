:root { color-scheme: light dark; }
* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; font-family: system-ui, Arial, sans-serif; }
#app { display: flex; flex-direction: column; height: 100%; }
header { display: flex; align-items: center; gap: 8px; padding: 8px 12px; border-bottom: 1px solid rgba(0,0,0,0.1); }
header h1 { font-size: 16px; margin: 0; }
header .spacer { flex: 1; }
header button { border: 1px solid rgba(0,0,0,0.2); background: transparent; padding: 4px 8px; border-radius: 6px; cursor: pointer; }
main#chat { flex: 1; padding: 12px; overflow: auto; display: flex; flex-direction: column; gap: 12px; }
.msg { padding: 10px 12px; border-radius: 10px; max-width: 80%; white-space: pre-wrap; }
.user { align-self: flex-end; background: #3b82f6; color: #fff; }
.bot { align-self: flex-start; background: #e5e7eb; color: #111; }
.msg h1,.msg h2,.msg h3,.msg h4,.msg h5,.msg h6 { margin: 0.3em 0; }
.msg p { margin: 0.4em 0; }
.msg ul,.msg ol { margin: 0.4em 1.2em; padding-left: 1em; }
.msg pre { background: rgba(0,0,0,0.08); padding: 8px; border-radius: 6px; overflow: auto; }
.msg code { background: rgba(0,0,0,0.08); padding: 0 4px; border-radius: 4px; }
@media (prefers-color-scheme: dark) {
  .bot { background: #222; color: #ddd; }
  .msg pre { background: rgba(255,255,255,0.08); }
  .msg code { background: rgba(255,255,255,0.08); }
}
footer { border-top: 1px solid rgba(0,0,0,0.1); padding: 8px; }
form { display: flex; gap: 8px; align-items: flex-start; }
#directive-chip { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 999px; border: 1px solid rgba(0,0,0,0.15); background: rgba(0,0,0,0.04); color: #111; font-size: 12px; line-height: 1; height: 32px; margin-top: 6px; }
#directive-chip.hidden { display: none; }
#directive-chip .x { cursor: pointer; opacity: 0.7; }
textarea#input { flex: 1; padding: 10px 12px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.2); resize: none; min-height: 40px; max-height: 200px; }
button[type=submit] { padding: 10px 14px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.2); background: #16a34a; color: #fff; cursor: pointer; }


